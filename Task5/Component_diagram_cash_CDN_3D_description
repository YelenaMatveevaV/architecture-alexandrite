Объяснение изменений


1. Добавление CDN (CloudFront) :
     Внедрен компонент CDN (например, AWS CloudFront), который доставляет статические 3D-модели и пререндеренные миниатюры через глобальные точки присутствия (edge locations).
     CDN снижает задержки при доставке файлов за счет их кэширования ближе к пользователям.
2. Добавление локального кэша :
     Добавлен компонент Local Cache , который хранит часто используемые 3D-модели и миниатюры на уровне MES API и Shop API.
     Локальный кэш минимизирует сетевые запросы к S3 и ускоряет доступ к файлам.
3. Пререндеринг миниатюр :
     Пререндеренные миниатюры (256x256px) используются для быстрого отображения списков моделей.
     Миниатюры доставляются через CDN или из локального кэша.
4. Изменение потоков данных :
     Если файл отсутствует в локальном кэше, он запрашивается через CDN.
     Если файл отсутствует в CDN, он загружается из S3.
     Для отображения списков моделей используются пререндеренные миниатюры, которые доставляются через CDN или берутся из локального кэша.
5. Пример использования :
     При запросе списка моделей:
          MES API проверяет локальный кэш на наличие пререндеренных миниатюр.
          Если миниатюры отсутствуют, они запрашиваются через CDN.
     При загрузке полной модели:
          Shop API проверяет локальный кэш на наличие файла.
          Если файла нет, он запрашивается через CDN или напрямую из S3.
6. Преимущества нового решения
     Ускорение доступа к файлам :
          Локальный кэш и CDN значительно уменьшают задержки при доступе к часто используемым файлам.
     Минимизация сетевых запросов :
          Снижается нагрузка на S3 за счет использования локального кэша и CDN.
     Быстрое отображение списков :
          Пререндеренные миниатюры позволяют быстро отображать списки моделей без загрузки полных файлов.
     Глобальная доставка контента :
          CDN обеспечивает быструю доставку файлов пользователям из разных регионов.
7. Недостатки нового решения
     Сложность настройки :
          Требуется дополнительная настройка CDN, локального кэша и процесса пререндеринга миниатюр.
     Задержка при обновлении :
          При изменении файла может возникнуть задержка перед его обновлением в CDN и локальном кэше.
     Дополнительные ресурсы :
          Локальный кэш требует дополнительной памяти на серверах MES API и Shop API.


Заключение
Решение с использованием CDN, локального кэша и пререндеринга миниатюр идеально подходит для систем, где важно минимизировать задержки при доступе к 3D-моделям и ускорить отображение списков. Оно позволяет эффективно использовать ресурсы и обеспечивает высокую производительность.